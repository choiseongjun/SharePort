{"version":3,"file":"static/webpack/static\\development\\pages\\_app.js.025145d360c5e03dacfb.hot-update.js","sources":["webpack:///./reducers/post.js"],"sourcesContent":["/*\r\n  @Date 2019-08-02\r\n  @author 최성준\r\n  @brief 포트폴리오쉐어? 리듀서\r\n*/\r\n\r\nexport const initialState = {\r\n    mainPosts: [{\r\n      id: 1,\r\n      User: {\r\n        id: 1,\r\n        nickname: '최성준',\r\n      },\r\n      title: '첫 번째 게시글',\r\n      createDate:'19년8월2일',\r\n      img: 'https://placeimg.com/48/48/5',\r\n      Comments: [],\r\n    }], // 화면에 보일 포스트들\r\n    imagePaths: [], // 미리보기 이미지 경로\r\n    addPostErrorReason: '', // 포스트 업로드 실패 사유\r\n    isAddingPost: false, // 포스트 업로드 중\r\n    postAdded: false, // 포스트 업로드 성공\r\n    isAddingComment: false,\r\n    addCommentErrorReason: '',\r\n    commentAdded: false,\r\n  };\r\n  \r\n  const dummyPost = {\r\n    id: 2,\r\n    User: {\r\n      id: 1,\r\n      nickname: '최성준',\r\n    },\r\n    img: 'https://placeimg.com/48/48/6',\r\n    title: '게시판 글 쓰면 올라오는 데이터.',\r\n    createDate:'방금',\r\n    Comments: [],\r\n  };\r\n  \r\n  const dummyComment = {\r\n    id: 1,\r\n    User: {\r\n      id: 1,\r\n      nickname: '최성준',\r\n    },\r\n    createdAt: new Date(),\r\n    content: '더미 댓글입니다.',\r\n  };\r\n  \r\n  export const LOAD_MAIN_POSTS_REQUEST = 'LOAD_MAIN_POSTS_REQUEST';\r\n  export const LOAD_MAIN_POSTS_SUCCESS = 'LOAD_MAIN_POSTS_SUCCESS';\r\n  export const LOAD_MAIN_POSTS_FAILURE = 'LOAD_MAIN_POSTS_FAILURE';\r\n  \r\n  export const LOAD_HASHTAG_POSTS_REQUEST = 'LOAD_HASHTAG_POSTS_REQUEST';\r\n  export const LOAD_HASHTAG_POSTS_SUCCESS = 'LOAD_HASHTAG_POSTS_SUCCESS';\r\n  export const LOAD_HASHTAG_POSTS_FAILURE = 'LOAD_HASHTAG_POSTS_FAILURE';\r\n  \r\n  export const LOAD_USER_POSTS_REQUEST = 'LOAD_USER_POSTS_REQUEST';\r\n  export const LOAD_USER_POSTS_SUCCESS = 'LOAD_USER_POSTS_SUCCESS';\r\n  export const LOAD_USER_POSTS_FAILURE = 'LOAD_USER_POSTS_FAILURE';\r\n  \r\n  export const UPLOAD_IMAGES_REQUEST = 'UPLOAD_IMAGES_REQUEST';\r\n  export const UPLOAD_IMAGES_SUCCESS = 'UPLOAD_IMAGES_SUCCESS';\r\n  export const UPLOAD_IMAGES_FAILURE = 'UPLOAD_IMAGES_FAILURE';\r\n  \r\n  export const REMOVE_IMAGE = 'REMOVE_IMAGE';\r\n  \r\n  export const ADD_POST_REQUEST = 'ADD_POST_REQUEST';\r\n  export const ADD_POST_SUCCESS = 'ADD_POST_SUCCESS';\r\n  export const ADD_POST_FAILURE = 'ADD_POST_FAILURE';\r\n  \r\n  export const LIKE_POST_REQUEST = 'LIKE_POST_REQUEST';\r\n  export const LIKE_POST_SUCCESS = 'LIKE_POST_SUCCESS';\r\n  export const LIKE_POST_FAILURE = 'LIKE_POST_FAILURE';\r\n  \r\n  export const UNLIKE_POST_REQUEST = 'UNLIKE_POST_REQUEST';\r\n  export const UNLIKE_POST_SUCCESS = 'UNLIKE_POST_SUCCESS';\r\n  export const UNLIKE_POST_FAILURE = 'UNLIKE_POST_FAILURE';\r\n  \r\n  export const ADD_COMMENT_REQUEST = 'ADD_COMMENT_REQUEST';\r\n  export const ADD_COMMENT_SUCCESS = 'ADD_COMMENT_SUCCESS';\r\n  export const ADD_COMMENT_FAILURE = 'ADD_COMMENT_FAILURE';\r\n  \r\n  export const LOAD_COMMENTS_REQUEST = 'LOAD_COMMENTS_REQUEST';\r\n  export const LOAD_COMMENTS_SUCCESS = 'LOAD_COMMENTS_SUCCESS';\r\n  export const LOAD_COMMENTS_FAILURE = 'LOAD_COMMENTS_FAILURE';\r\n  \r\n  export const RETWEET_REQUEST = 'RETWEET_REQUEST';\r\n  export const RETWEET_SUCCESS = 'RETWEET_SUCCESS';\r\n  export const RETWEET_FAILURE = 'RETWEET_FAILURE';\r\n  \r\n  export const REMOVE_POST_REQUEST = 'REMOVE_POST_REQUEST';\r\n  export const REMOVE_POST_SUCCESS = 'REMOVE_POST_SUCCESS';\r\n  export const REMOVE_POST_FAILURE = 'REMOVE_POST_FAILURE';\r\n  \r\n  export default (state = initialState, action) => {\r\n    switch (action.type) {\r\n      case ADD_POST_REQUEST: {\r\n        return {\r\n          ...state,\r\n          isAddingPost: true,\r\n          addPostErrorReason: '',\r\n          postAdded: false,\r\n        };\r\n      }\r\n      case ADD_POST_SUCCESS: {\r\n        return {\r\n          ...state,\r\n          isAddingPost: false,\r\n          mainPosts: [dummyPost, ...state.mainPosts],\r\n          postAdded: true,\r\n        };\r\n      }\r\n      case ADD_POST_FAILURE: {\r\n        return {\r\n          ...state,\r\n          isAddingPost: false,\r\n          addPostErrorReason: action.error,\r\n        };\r\n      }\r\n      case ADD_COMMENT_REQUEST: {\r\n        return {\r\n          ...state,\r\n          isAddingComment: true,\r\n          addCommentErrorReason: '',\r\n          commentAdded: false,\r\n        };\r\n      }\r\n      case ADD_COMMENT_SUCCESS: {\r\n        const postIndex = state.mainPosts.findIndex(v => v.id === action.data.postId);\r\n        const post = state.mainPosts[postIndex];\r\n        const Comments = [...post.Comments, dummyComment];\r\n        const mainPosts = [...state.mainPosts];\r\n        mainPosts[postIndex] = { ...post, Comments };\r\n        return {\r\n          ...state,\r\n          isAddingComment: false,\r\n          mainPosts,\r\n          commentAdded: true,\r\n        };\r\n      }\r\n      case ADD_COMMENT_FAILURE: {\r\n        return {\r\n          ...state,\r\n          isAddingComment: false,\r\n          addCommentErrorReason: action.error,\r\n        };\r\n      }\r\n      default: {\r\n        return {\r\n          ...state,\r\n        };\r\n      }\r\n    }\r\n  };\r\n  "],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AATA;AAUA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAlBA;AAqBA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AATA;AAYA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAPA;AAUA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AAAA;AAAA;AACA;AAGA;AAxDA;AA0DA;;;;A","sourceRoot":""}